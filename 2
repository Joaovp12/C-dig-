// Programa para listar todos os números primos
// até o valor máximo informado pelo usuário
// 
# include  < stdio.h >
# include  < math.h >

// Protótipo da função de listagem
 lista_array void ( unsigned  int [], unsigned  int );

int  main ( vazio ) {
  
     int primos não assinados [ 100 ]; // Lista de Primeiros
    não assinado  int primo; // Índice da lista
    unsigned  int nao_primo; // Variável de controle
    unsigned  int max; // Número máximo

    // Coloca dois primeiros na lista
    primos [ 0 ] = 2 ;
    primos [ 1 ] = 3 ;

    // Número de primos na lista
    int no_primos = 2 ;
    int i;

    printf ( " Este programa irá listar todos os números primos até o número informado \ n \ n " );

    printf ( " Digite um número: " );
    scanf ( " % i " , & max);
    
    para (i = 4 ; i <= max; i ++) {
      
        primo = 0 ;
        nao_primo = 0 ;
        while (primo <no_primos && primos [primo] < sqrt (i) &&! nao_primo) {
                
            if (i% primos [primo] == 0,0 ) {
                nao_primo = 1 ; // O número não é primo, para testar
            }
            
            primo ++;
        }
      
        // O número é primo, adiciona-o à lista e imprime na tela
        if (! nao_primo) {
            primos [no_primos] = i;
            no_primos ++;
        }   
    } 

    printf ( " Os números primos até % u são : \ n " , máx);
    lista_array (primos, no_primos);

    retornar  0 ;
  
}

// Imprime os elementos de um array
 lista_array void ( unsigned  int arr [], unsigned  int no) {
    
    int i = 0 ;
        
    enquanto (i <não) {
       printf ( " % u \ n " , arr [i]);
       i ++;
    }
}
